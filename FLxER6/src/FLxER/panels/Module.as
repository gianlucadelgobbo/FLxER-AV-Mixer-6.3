package FLxER.panels {//	import flash.display.Loader;	import flash.display.NativeWindow;	import flash.display.NativeWindowInitOptions;	import flash.display.NativeWindowSystemChrome;	import flash.display.NativeWindowType;	import flash.display.Sprite;	import flash.display.StageAlign;	import flash.display.StageScaleMode;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.geom.Rectangle;		import FLxER.main.Rett;	import FLxER.main.Txt;//	import flash.system.LoaderContext;//	import flash.system.SecurityDomain;	    //	public class Module extends Sprite {		private var fondo:Rett,fondo_tit:Rett,fondo_body:Rett;		public var palette:NativeWindow;		public var tit:Txt,txt:Txt;		private var titTxt:String;		private var cnt:Sprite;		public function Module(w:uint,h:uint,t:String):void {			//fondo = new Rett(0, 0, Preferences.starterTrgt.stage.fullScreenWidth, Preferences.starterTrgt.stage.fullScreenHeight, Preferences.pref.myCol.bkgCol, -1, .6);			//this.addChild(fondo);			titTxt = t;			var head:int = 20;			var windowOptions:NativeWindowInitOptions = new NativeWindowInitOptions();			windowOptions.systemChrome = NativeWindowSystemChrome.NONE;			windowOptions.type = NativeWindowType.NORMAL;			palette = new NativeWindow(windowOptions);			palette.alwaysInFront = true;			palette.stage.scaleMode = StageScaleMode.NO_SCALE;			palette.stage.align = StageAlign.TOP_LEFT;			palette.bounds = new Rectangle(0, 0, w+2, h+3+head);			palette.stage.nativeWindow.x = (Preferences.starterTrgt.stage.fullScreenWidth-w)/2;			palette.stage.nativeWindow.y = (Preferences.starterTrgt.stage.fullScreenHeight-h)/2;			palette.stage.nativeWindow.addEventListener(Event.ACTIVATE, paletteFocus);			palette.stage.addEventListener(MouseEvent.MOUSE_OVER, paletteFocus);			palette.activate();			fondo = new Rett(0, 0, w+2, h+3+head, Preferences.pref.myCol.col, -1, 1);			fondo.addEventListener(MouseEvent.MOUSE_DOWN, mouseDownHandler)			palette.stage.addChild(fondo);			fondo_tit = new Rett(1, 1, w, head, Preferences.pref.myCol.brdCol, -1, .8);			palette.stage.addChild(fondo_tit);			fondo_body = new Rett(1, head+2, w, h, Preferences.pref.myCol.brdCol, -1, .8);			palette.stage.addChild(fondo_body);			tit = new Txt(-1, -4, 200, 30, titTxt, Preferences.ts, null);			tit.addEventListener(MouseEvent.MOUSE_DOWN, mouseDownHandler)			palette.stage.addChild(tit);			tit.scaleX = tit.scaleY = 2;			palette.addEventListener(Event.CLOSING, closeWindow);		}		private function closeWindow(evt:Event):void {			evt.preventDefault();		}		private function paletteFocus(event:Event):void {			if (Preferences.myAlt) palette.stage.addChild(Preferences.myAlt);		}		/*		public function mySetFocus():void {			palette.orderToFront();		}		*/		private function mouseDownHandler(event:MouseEvent):void {			palette.startMove();		}	}}